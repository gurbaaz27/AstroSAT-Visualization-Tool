{"ast":null,"code":"import _slicedToArray from\"C:/Users/91809/Desktop/AstroSAT-Visualization-Tool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Button from\"@material-ui/core/Button\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Aladin=function Aladin(props){// function for connecting the API endpoints\nvar sendHttpRequest=function sendHttpRequest(method,url,data){return fetch(url,{method:method,body:JSON.stringify(data),headers:data?{\"Content-Type\":\"application/json\",\"Accept\":\"application/json\"}:{}}).then(function(response){if(response.status>=400){// !response.ok\nreturn response.json().then(function(errResData){var error=new Error(\"Something went wrong!\");error.data=errResData;throw error;});}return response.json();});};var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cardData=_useState2[0],setCardData=_useState2[1];function handlePopout(ra,dec,name,astrosat){var object_title=name;var genericDesc=\"<b>AstroSat Observation:</b> \".concat(astrosat,\"<br>\");var modal_description;if(astrosat){var ra_data={\"ra\":ra,\"dec\":dec};/*sendHttpRequest(\"POST\", \"http://127.0.0.1:8000/isro/card/\",ra_data).then(\r\n      (responseData) => { \r\n        console.log(responseData);\r\n        setCardData(responseData);  \r\n      }\r\n      );*/axios.post('http://127.0.0.1:8000/isro/card/',ra_data,{headers:{\"Content-Type\":\"application/json\"}}).then(function(response){console.log(response);setCardData(response);},function(error){console.log(error);});modal_description=\"<script>var modal=document.getElementById(\\\"myModal\\\");var btn=document.getElementById(\\\"myBtn\\\");var span=document.getElementsByClassName(\\\"close\\\")[0];function handleClick(){modal.style.display=\\\"block\\\";} function handleClose(){modal.style.display=\\\"none\\\";} window.onclick=function(event){if(event.target==modal){modal.style.display=\\\"none\\\";}}</script><button id=\\\"myBtn\\\" onclick=\\\"handleClick()\\\">Open Modal</button><div id=\\\"myModal\\\" class=\\\"modal\\\" style=\\\"display: none; position: fixed; z-index: 1;padding-top: 100px;left: 0;top: 0;width: 100%; height: 100%; overflow: auto; background-color: rgb(0,0,0); background-color: rgba(0,0,0,0.4);\\\"><div class=\\\"modal-content\\\" style=\\\"position: relative;background-color:#fefefe;margin:auto;padding:0;border:1px solid #888;width:80%;box-shadow:0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);\\\"><div class=\\\"modal-header\\\" style=\\\"padding: 2px 16px;background-color:#5cb85c;color:white;\\\"> <span class=\\\"close\\\" style=\\\"color: white;float:right;font-size:28px;font-weight:bold;\\\" onclick=\\\"handleClose()\\\">&times;</span><h2>\".concat(name,\"</h2></div><div class=\\\"modal-body\\\" style=\\\"padding: 2px 16px;\\\"><p><b>Ra:</b>\").concat(ra,\"<br><b>Dec:</b>\").concat(dec,\"<br></p><p><table><tr><th>Publication ID</th><th>Title</th></tr> \").concat(cardData.map(function(publication){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:publication.id}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:publication.link,children:publication.title})})]});}),\"</table></p></div><div class=\\\"modal-footer\\\" style=\\\"padding: 2px 16px;background-color:#5cb85c;color:white;\\\"><h3>Modal Footer</h3></div></div></div>\");}var object_description=astrosat?genericDesc.concat(modal_description):genericDesc;return window.A.marker(ra,dec,{popupTitle:object_title,popupDesc:object_description});}useEffect(function(){var aladin=window.A.aladin(\"#aladin-lite-div\",{survey:\"P/DSS2/color\",fov:60});var markerLayer=window.A.catalog();aladin.addCatalog(markerLayer);var sources=props.data.map(function(dataset){return handlePopout(dataset.ra,dataset.dec,dataset.name,dataset.astrosat);});markerLayer.addSources(sources);},[]);return/*#__PURE__*/_jsx(\"div\",{id:\"aladin-lite-div\",style:{width:\"74vw\",height:\"80vh\"}});};export default Aladin;/**\r\n < script >\r\nvar modal = document.getElementById(\"myModal\");\r\nvar btn = document.getElementById(\"myBtn\");\r\nfunction handleClick () {  \r\n\tmodal.style.display = \"block\"; \r\n}    \r\nfunction handleClose() {     \r\n\tmodal.style.display = \"none\"; \r\n} \r\n<table>  \r\n  <tr>      \r\n    <th>Publication ID</th>\r\n    <th>Title</th>  \r\n  </tr>\r\n  {cardData.map((publication)=><tr><td>publication.id</td><td><a href=publication.title>publication.title</a></td></tr>)}\r\n  </table>  \r\n< /script>\r\n */","map":{"version":3,"sources":["C:/Users/91809/Desktop/AstroSAT-Visualization-Tool/src/components/Aladin/Aladin.jsx"],"names":["React","useEffect","useState","Button","axios","Aladin","props","sendHttpRequest","method","url","data","fetch","body","JSON","stringify","headers","then","response","status","json","errResData","error","Error","cardData","setCardData","handlePopout","ra","dec","name","astrosat","object_title","genericDesc","modal_description","ra_data","post","console","log","map","publication","id","link","title","object_description","concat","window","A","marker","popupTitle","popupDesc","aladin","survey","fov","markerLayer","catalog","addCatalog","sources","dataset","addSources","width","height"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport axios from \"axios\";\r\n\r\nconst Aladin = (props) => {\r\n\r\n  // function for connecting the API endpoints\r\n  const sendHttpRequest = (method, url, data) => {\r\n    return fetch(url, {\r\n      method: method,\r\n      body: JSON.stringify(data),\r\n      headers: data ? { \"Content-Type\": \"application/json\",\"Accept\": \"application/json\" } : {},\r\n    }).then((response) => {\r\n      if (response.status >= 400) {\r\n        // !response.ok\r\n        return response.json().then((errResData) => {\r\n          const error = new Error(\"Something went wrong!\");\r\n          error.data = errResData;\r\n          throw error;\r\n        });\r\n      }\r\n      return response.json();\r\n    });\r\n  };\r\n\r\n  const [cardData, setCardData] = useState([]);\r\n\r\n  function handlePopout(ra, dec, name, astrosat) {\r\n    var object_title = name;\r\n    var genericDesc = `<b>AstroSat Observation:</b> ${astrosat}<br>`;\r\n    var modal_description;\r\n\r\n    if (astrosat) {\r\n      var ra_data = { \"ra\": ra, \"dec\": dec };\r\n      /*sendHttpRequest(\"POST\", \"http://127.0.0.1:8000/isro/card/\",ra_data).then(\r\n      (responseData) => { \r\n        console.log(responseData);\r\n        setCardData(responseData);  \r\n      }\r\n      );*/\r\n      axios.post('http://127.0.0.1:8000/isro/card/', ra_data,{headers:{\"Content-Type\" : \"application/json\"}})\r\n      .then((response) => {\r\n        console.log(response);\r\n        setCardData(response);\r\n      }, (error) => {\r\n        console.log(error);\r\n      });\r\n      modal_description = `<script>var modal=document.getElementById(\"myModal\");var btn=document.getElementById(\"myBtn\");var span=document.getElementsByClassName(\"close\")[0];function handleClick(){modal.style.display=\"block\";} function handleClose(){modal.style.display=\"none\";} window.onclick=function(event){if(event.target==modal){modal.style.display=\"none\";}}</script><button id=\"myBtn\" onclick=\"handleClick()\">Open Modal</button><div id=\"myModal\" class=\"modal\" style=\"display: none; position: fixed; z-index: 1;padding-top: 100px;left: 0;top: 0;width: 100%; height: 100%; overflow: auto; background-color: rgb(0,0,0); background-color: rgba(0,0,0,0.4);\"><div class=\"modal-content\" style=\"position: relative;background-color:#fefefe;margin:auto;padding:0;border:1px solid #888;width:80%;box-shadow:0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);\"><div class=\"modal-header\" style=\"padding: 2px 16px;background-color:#5cb85c;color:white;\"> <span class=\"close\" style=\"color: white;float:right;font-size:28px;font-weight:bold;\" onclick=\"handleClose()\">&times;</span><h2>${name}</h2></div><div class=\"modal-body\" style=\"padding: 2px 16px;\"><p><b>Ra:</b>${ra}<br><b>Dec:</b>${dec}<br></p><p><table><tr><th>Publication ID</th><th>Title</th></tr> ${cardData.map((publication)=><tr><td>{publication.id}</td><td><a href={publication.link}>{publication.title}</a></td></tr>)}</table></p></div><div class=\"modal-footer\" style=\"padding: 2px 16px;background-color:#5cb85c;color:white;\"><h3>Modal Footer</h3></div></div></div>`;\r\n    \r\n    }\r\n\r\n    var object_description = (astrosat) ? genericDesc.concat(modal_description) : genericDesc;\r\n    \r\n    return window.A.marker(ra, dec, {\r\n      popupTitle: object_title,\r\n      popupDesc: object_description,\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    let aladin = window.A.aladin(\"#aladin-lite-div\", {\r\n      survey: \"P/DSS2/color\",\r\n      fov: 60,\r\n    });\r\n    let markerLayer = window.A.catalog();\r\n    aladin.addCatalog(markerLayer);\r\n    var sources = props.data.map((dataset) =>\r\n      handlePopout(dataset.ra, dataset.dec, dataset.name, dataset.astrosat) \r\n    );\r\n    markerLayer.addSources(sources);\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      id=\"aladin-lite-div\"\r\n      style={{\r\n        width: \"74vw\",\r\n        height: \"80vh\",\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Aladin;\r\n\r\n/**\r\n < script >\r\nvar modal = document.getElementById(\"myModal\");\r\nvar btn = document.getElementById(\"myBtn\");\r\nfunction handleClick () {  \r\n\tmodal.style.display = \"block\"; \r\n}    \r\nfunction handleClose() {     \r\n\tmodal.style.display = \"none\"; \r\n} \r\n<table>  \r\n  <tr>      \r\n    <th>Publication ID</th>\r\n    <th>Title</th>  \r\n  </tr>\r\n  {cardData.map((publication)=><tr><td>publication.id</td><td><a href=publication.title>publication.title</a></td></tr>)}\r\n  </table>  \r\n< /script>\r\n */\r\n"]},"metadata":{},"sourceType":"module"}