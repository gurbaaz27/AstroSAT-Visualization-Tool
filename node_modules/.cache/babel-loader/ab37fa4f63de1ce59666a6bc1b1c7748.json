{"ast":null,"code":"var _jsxFileName = \"/home/kartikcodes/Desktop/AstroSAT-Visualization-Tool/src/components/Aladin/Aladin.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Aladin = props => {\n  _s();\n\n  // function for connecting the API endpoints\n  const sendHttpRequest = (method, url, data) => {\n    return fetch(url, {\n      method: method,\n      body: JSON.stringify(data),\n      headers: data ? {\n        \"Content-Type\": \"application/json\"\n      } : {}\n    }).then(response => {\n      if (response.status >= 400) {\n        // !response.ok\n        return response.json().then(errResData => {\n          const error = new Error(\"Something went wrong!\");\n          error.data = errResData;\n          throw error;\n        });\n      }\n\n      return response.json();\n    });\n  };\n\n  const [cardData, setCardData] = useState([]);\n\n  function handlePopout(ra, dec, name, astrosat) {\n    var object_title = name;\n    var genericDesc = `<b>AstroSat Observation:</b> ${astrosat}<br>`;\n    var modal_description;\n\n    if (astrosat) {\n      var ra_data = {\n        \"ra\": ra,\n        \"dec\": dec\n      };\n      sendHttpRequest(\"POST\", \"http://127.0.0.1:8000/isro/card/\", ra_data).then(responseData => {\n        console.log(responseData.pubs);\n        setCardData(responseData.pubs);\n      });\n      modal_description = `<script>var modal=document.getElementById(\"myModal\");var btn=document.getElementById(\"myBtn\");var span=document.getElementsByClassName(\"close\")[0];function handleClick(){modal.style.display=\"block\";} function handleClose(){modal.style.display=\"none\";} window.onclick=function(event){if(event.target==modal){modal.style.display=\"none\";}}</script><button id=\"myBtn\" onclick=\"handleClick()\">Open Modal</button><div id=\"myModal\" class=\"modal\" style=\"display: none; position: fixed; z-index: 1;padding-top: 100px;left: 0;top: 0;width: 100%; height: 100%; overflow: auto; background-color: rgb(0,0,0); background-color: rgba(0,0,0,0.4);\"><div class=\"modal-content\" style=\"position: relative;background-color:#fefefe;margin:auto;padding:0;border:1px solid #888;width:80%;box-shadow:0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);\"><div class=\"modal-header\" style=\"padding: 2px 16px;background-color:#5cb85c;color:white;\"> <span class=\"close\" style=\"color: white;float:right;font-size:28px;font-weight:bold;\" onclick=\"handleClose()\">&times;</span><h2>${name}</h2></div><div class=\"modal-body\" style=\"padding: 2px 16px;\"><p><b>Ra:</b>${ra}<br><b>Dec:</b>${dec}<br></p><p><table><tr><th>Publication ID</th><th>Title</th></tr> ${cardData.map(publication => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: publication.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 1289\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: publication.link,\n            children: publication.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 1318\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 1314\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 1285\n      }, this))}</table></p></div><div class=\"modal-footer\" style=\"padding: 2px 16px;background-color:#5cb85c;color:white;\"><h3>Modal Footer</h3></div></div></div>`;\n    }\n\n    var object_description = astrosat ? genericDesc.concat(modal_description) : genericDesc;\n    return window.A.marker(ra, dec, {\n      popupTitle: object_title,\n      popupDesc: object_description\n    });\n  }\n\n  useEffect(() => {\n    let aladin = window.A.aladin(\"#aladin-lite-div\", {\n      survey: \"P/DSS2/color\",\n      fov: 60\n    });\n    let markerLayer = window.A.catalog();\n    aladin.addCatalog(markerLayer);\n    var sources = props.data.map(dataset => handlePopout(dataset.ra, dataset.dec, dataset.name, dataset.astrosat));\n    markerLayer.addSources(sources);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"aladin-lite-div\",\n    style: {\n      width: \"74vw\",\n      height: \"80vh\"\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Aladin, \"iQI/C3+ENyvM5UBjUOJwpxC2ohg=\");\n\n_c = Aladin;\nexport default Aladin;\n/**\n < script >\nvar modal = document.getElementById(\"myModal\");\nvar btn = document.getElementById(\"myBtn\");\nfunction handleClick () {  \n\tmodal.style.display = \"block\";\n}\nfunction handleClose() {     \n\tmodal.style.display = \"none\";\n}\n<table>\n  <tr>\n    <th>Publication ID</th>\n    <th>Title</th>\n  </tr>\n  {cardData.map((publication)=><tr><td>publication.id</td><td><a href=publication.title>publication.title</a></td></tr>)}\n  </table>\n< /script>\n */\n\nvar _c;\n\n$RefreshReg$(_c, \"Aladin\");","map":{"version":3,"sources":["/home/kartikcodes/Desktop/AstroSAT-Visualization-Tool/src/components/Aladin/Aladin.jsx"],"names":["React","useEffect","useState","Button","Aladin","props","sendHttpRequest","method","url","data","fetch","body","JSON","stringify","headers","then","response","status","json","errResData","error","Error","cardData","setCardData","handlePopout","ra","dec","name","astrosat","object_title","genericDesc","modal_description","ra_data","responseData","console","log","pubs","map","publication","id","link","title","object_description","concat","window","A","marker","popupTitle","popupDesc","aladin","survey","fov","markerLayer","catalog","addCatalog","sources","dataset","addSources","width","height"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\n\nconst Aladin = (props) => {\n\n  // function for connecting the API endpoints\n  const sendHttpRequest = (method, url, data) => {\n    return fetch(url, {\n      method: method,\n      body: JSON.stringify(data),\n      headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    }).then((response) => {\n      if (response.status >= 400) {\n        // !response.ok\n        return response.json().then((errResData) => {\n          const error = new Error(\"Something went wrong!\");\n          error.data = errResData;\n          throw error;\n        });\n      }\n      return response.json();\n    });\n  };\n\n  const [cardData, setCardData] = useState([]);\n\n  function handlePopout(ra, dec, name, astrosat) {\n    var object_title = name;\n    var genericDesc = `<b>AstroSat Observation:</b> ${astrosat}<br>`;\n    var modal_description;\n\n    if (astrosat) {\n      var ra_data = { \"ra\": ra, \"dec\": dec };\n      sendHttpRequest(\"POST\", \"http://127.0.0.1:8000/isro/card/\",ra_data).then(\n      (responseData) => {\n        console.log(responseData.pubs);\n        setCardData(responseData.pubs);\n      }\n      );\n      modal_description = `<script>var modal=document.getElementById(\"myModal\");var btn=document.getElementById(\"myBtn\");var span=document.getElementsByClassName(\"close\")[0];function handleClick(){modal.style.display=\"block\";} function handleClose(){modal.style.display=\"none\";} window.onclick=function(event){if(event.target==modal){modal.style.display=\"none\";}}</script><button id=\"myBtn\" onclick=\"handleClick()\">Open Modal</button><div id=\"myModal\" class=\"modal\" style=\"display: none; position: fixed; z-index: 1;padding-top: 100px;left: 0;top: 0;width: 100%; height: 100%; overflow: auto; background-color: rgb(0,0,0); background-color: rgba(0,0,0,0.4);\"><div class=\"modal-content\" style=\"position: relative;background-color:#fefefe;margin:auto;padding:0;border:1px solid #888;width:80%;box-shadow:0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);\"><div class=\"modal-header\" style=\"padding: 2px 16px;background-color:#5cb85c;color:white;\"> <span class=\"close\" style=\"color: white;float:right;font-size:28px;font-weight:bold;\" onclick=\"handleClose()\">&times;</span><h2>${name}</h2></div><div class=\"modal-body\" style=\"padding: 2px 16px;\"><p><b>Ra:</b>${ra}<br><b>Dec:</b>${dec}<br></p><p><table><tr><th>Publication ID</th><th>Title</th></tr> ${cardData.map((publication)=><tr><td>{publication.id}</td><td><a href={publication.link}>{publication.title}</a></td></tr>)}</table></p></div><div class=\"modal-footer\" style=\"padding: 2px 16px;background-color:#5cb85c;color:white;\"><h3>Modal Footer</h3></div></div></div>`;\n    \n    }\n\n    var object_description = (astrosat) ? genericDesc.concat(modal_description) : genericDesc;\n    \n    return window.A.marker(ra, dec, {\n      popupTitle: object_title,\n      popupDesc: object_description,\n    });\n  }\n\n  useEffect(() => {\n    let aladin = window.A.aladin(\"#aladin-lite-div\", {\n      survey: \"P/DSS2/color\",\n      fov: 60,\n    });\n    let markerLayer = window.A.catalog();\n    aladin.addCatalog(markerLayer);\n    var sources = props.data.map((dataset) =>\n      handlePopout(dataset.ra, dataset.dec, dataset.name, dataset.astrosat) \n    );\n    markerLayer.addSources(sources);\n  }, []);\n\n  return (\n    <div\n      id=\"aladin-lite-div\"\n      style={{\n        width: \"74vw\",\n        height: \"80vh\",\n      }}\n    />\n  );\n};\n\nexport default Aladin;\n\n/**\n < script >\nvar modal = document.getElementById(\"myModal\");\nvar btn = document.getElementById(\"myBtn\");\nfunction handleClick () {  \n\tmodal.style.display = \"block\";\n}\nfunction handleClose() {     \n\tmodal.style.display = \"none\";\n}\n<table>\n  <tr>\n    <th>Publication ID</th>\n    <th>Title</th>\n  </tr>\n  {cardData.map((publication)=><tr><td>publication.id</td><td><a href=publication.title>publication.title</a></td></tr>)}\n  </table>\n< /script>\n */\n"]},"metadata":{},"sourceType":"module"}